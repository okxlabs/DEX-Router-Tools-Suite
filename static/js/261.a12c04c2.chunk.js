(self.webpackChunkevm_tool_suite=self.webpackChunkevm_tool_suite||[]).push([[261],{318:(o,s,e)=>{"use strict";e.r(s);var t=e(555);o=e.hmd(o);const{ethers:i}=e(571),n={SINGLE:["0x3ca20afc2aaa","0x3ca20afc2bbb"],DUAL:["0x22220afc2aaa","0x22220afc2bbb"]};function c(o){const s=o.replace(/^0x/,""),e="0x"+s.slice(0,12),t="0x"+s.slice(12,24),c=i.BigNumber.from(t).toString(),a="0x"+s.slice(24,64),r=[...n.SINGLE,...n.DUAL];if(!r.some(o=>o.toLowerCase()===e.toLowerCase()))throw new Error("Invalid commission flag: ".concat(e,". Must be one of: ").concat(r.join(", ")));const l=e.startsWith("0x3ca2")?"SINGLE":"DUAL",f=e.endsWith("aaa")?"FROM_TOKEN_COMMISSION":"TO_TOKEN_COMMISSION";return{flag:e,commissionType:l+"_"+f,rate:c,address:a}}function a(o){const s=o.replace(/^0x/,"");return{isToB:"80"===s.slice(0,2),token:"0x"+s.slice(24)}}function r(o){const s=[];let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;e<o.length;){let i=null,r=o.length;for(const s of n.SINGLE){const n=s.replace(/^0x/,""),l=o.indexOf(n,e);if(-1!==l&&l<r){const s=l,e=s+64;if(s>=64)try{const t="0x"+o.slice(s,e),n="0x"+o.slice(s-64,s),l=c(t);i={hasCommission:!0,referCount:1,middle:a(n),first:l,position:s},r=e}catch(t){}}}for(const s of n.DUAL){const n=s.replace(/^0x/,"");let l=o.indexOf(n,e);if(-1!==l){let e=o.indexOf(n,l+1);if(-1!==e&&e<r){const n=e,l=n+64;if(n>=128)try{const e="0x"+o.slice(n,l),t="0x"+o.slice(n-64,n),f=c("0x"+o.slice(n-128,n-64)),m=c(e),x=a(t);f.flag.toLowerCase()===s.toLowerCase()&&(i={hasCommission:!0,referCount:2,hasToB:f.isToB||m.isToB||x.isToB,last:f,middle:x,first:m,position:n},r=l)}catch(t){}}}}if(!i)break;s.push(i),e=r}return s}o.exports={decodeMultipleCommissionsFromCalldata:function(o){const s=r(o.replace(/^0x/,"").toLowerCase()),e={totalCommissions:s.length,commissionInfo:[]};return s.forEach(o=>{const s=(0,t.A)({},o);s.index=s.position,delete s.position,e.commissionInfo.push(s)}),e},findAllCommissions:r}},790:()=>{}}]);
//# sourceMappingURL=261.a12c04c2.chunk.js.map